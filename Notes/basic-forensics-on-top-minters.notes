
basic-forensics-on-top-minters.notes

Type1
linux> KAG_outputfile=KAG_outputfile-2023-07-06-T17\:05\:56-UTC 

Type0
linux> KAG_outputfile=KAG_outputfile-2023-07-06-T17:05:47-UTC

KAG_outputfile-2023-07-06-T17:05:56-UTC 
KAG_outputfile-2023-07-06-T17:05:47-UTC


---------------------------------------------------------------------------


Prepping the minters data (from previous work posted on forum):


for (( num=01; num<=10; num++ )); do printf "%02d\n" $num; done > t
linux> cat t
01
02
03
04
05
06
07
08
09
10

# https://forum.kinesis.money/threads/forensics-kag-minting-deep-dive-drill-down.1763/#post-20403
#
head -10 MinterAccounts | cut -d" " -f1 > u
sed 's/^/KAG_MinterUser_/g' t > tt
paste -d"=" tt u
paste -d"=" tt u > ttt

linux> cat ttt
KAG_MinterUser_01=GD7EOW2PIT4YPLBAP3O4SXKVA5PSRRJKYDO5IXNQDASXPKGCHZJ2TX2Q
KAG_MinterUser_02=GCPDJKTJEZZNO3FRCDQ424PZWPNJNEO7XUIPS364EZ7YKWVFBLSL5CGA
KAG_MinterUser_03=GCSWXZXMJAWP3MV4N6JBLGKSRXR632A5OWQXXYRWF67ZMDLMU42XJP3O
KAG_MinterUser_04=GAHIR5ERN26ORNDNWUMKNAUDZQRJISSBNU76IIIEM55LIAFUXWS2TVH4
KAG_MinterUser_05=GAXBHL4VZUVEDZLFZNZB27XSA3WKD6Z2RERRK3ZVWC7RX5I42TOF64MN
KAG_MinterUser_06=GBPJ3A3HIH2PEUBHJC55IUSTW734EQVEMJ72A7NXY7MM5ORCWPBEGHHA
KAG_MinterUser_07=GCZ4KXQFSANZK5PPPV2Z37O4NNQCL4XNWGM5TZSZSETSJYVR7QDVFDQU
KAG_MinterUser_08=GCIELRZ5HNIPNYHB3ZEFIGDO4WYB5KE2GXEE7DT6YUVEIAPDK6R2PXZN
KAG_MinterUser_09=GBZJJ2KYXRS4XSIF4DIVZLFHACZQH4PSO43LJWEDPOF7IMPH6PWCD6KL
KAG_MinterUser_10=GBPW7IJL5KRDOM5RGMKVVPO6Q6DLBAZIBXV3AB5OIXKZ5MUQC4GIRWRQ

linux> cat u
GD7EOW2PIT4YPLBAP3O4SXKVA5PSRRJKYDO5IXNQDASXPKGCHZJ2TX2Q
GCPDJKTJEZZNO3FRCDQ424PZWPNJNEO7XUIPS364EZ7YKWVFBLSL5CGA
GCSWXZXMJAWP3MV4N6JBLGKSRXR632A5OWQXXYRWF67ZMDLMU42XJP3O
GAHIR5ERN26ORNDNWUMKNAUDZQRJISSBNU76IIIEM55LIAFUXWS2TVH4
GAXBHL4VZUVEDZLFZNZB27XSA3WKD6Z2RERRK3ZVWC7RX5I42TOF64MN
GBPJ3A3HIH2PEUBHJC55IUSTW734EQVEMJ72A7NXY7MM5ORCWPBEGHHA
GCZ4KXQFSANZK5PPPV2Z37O4NNQCL4XNWGM5TZSZSETSJYVR7QDVFDQU
GCIELRZ5HNIPNYHB3ZEFIGDO4WYB5KE2GXEE7DT6YUVEIAPDK6R2PXZN
GBZJJ2KYXRS4XSIF4DIVZLFHACZQH4PSO43LJWEDPOF7IMPH6PWCD6KL
GBPW7IJL5KRDOM5RGMKVVPO6Q6DLBAZIBXV3AB5OIXKZ5MUQC4GIRWRQ

#
# E and H are the nodes that do stuff with users
# so we include them here. For rigour.
#

linux> grep -i "Emission\|HotWallet" KAG-set-main-account-symbols.sh >> ttt
linux> cat ttt
KAG_MinterUser_01=GD7EOW2PIT4YPLBAP3O4SXKVA5PSRRJKYDO5IXNQDASXPKGCHZJ2TX2Q
KAG_MinterUser_02=GCPDJKTJEZZNO3FRCDQ424PZWPNJNEO7XUIPS364EZ7YKWVFBLSL5CGA
KAG_MinterUser_03=GCSWXZXMJAWP3MV4N6JBLGKSRXR632A5OWQXXYRWF67ZMDLMU42XJP3O
KAG_MinterUser_04=GAHIR5ERN26ORNDNWUMKNAUDZQRJISSBNU76IIIEM55LIAFUXWS2TVH4
KAG_MinterUser_05=GAXBHL4VZUVEDZLFZNZB27XSA3WKD6Z2RERRK3ZVWC7RX5I42TOF64MN
KAG_MinterUser_06=GBPJ3A3HIH2PEUBHJC55IUSTW734EQVEMJ72A7NXY7MM5ORCWPBEGHHA
KAG_MinterUser_07=GCZ4KXQFSANZK5PPPV2Z37O4NNQCL4XNWGM5TZSZSETSJYVR7QDVFDQU
KAG_MinterUser_08=GCIELRZ5HNIPNYHB3ZEFIGDO4WYB5KE2GXEE7DT6YUVEIAPDK6R2PXZN
KAG_MinterUser_09=GBZJJ2KYXRS4XSIF4DIVZLFHACZQH4PSO43LJWEDPOF7IMPH6PWCD6KL
KAG_MinterUser_10=GBPW7IJL5KRDOM5RGMKVVPO6Q6DLBAZIBXV3AB5OIXKZ5MUQC4GIRWRQ
KAG_EmissionAccount=GCGTMT2X6NUV6ABEOAOSDI2YQ7FXQOQYKYA7KVZQ5ID67GQU3C6AIUGU
KAG_HotWalletAccount=GBTYCT2VVWURNU23ZSR3IPSXU6BRWT3ELIOQJAJOKGIHCLLE6YDX4A7E

#
# Same trick again. 
# List of vertices
# will be used in 2 nested for loops
#
linux> grep -i "Emission\|HotWallet" KAG-set-main-account-symbols.sh | cut -d= -f2 >> u
linux> cat u
GD7EOW2PIT4YPLBAP3O4SXKVA5PSRRJKYDO5IXNQDASXPKGCHZJ2TX2Q
GCPDJKTJEZZNO3FRCDQ424PZWPNJNEO7XUIPS364EZ7YKWVFBLSL5CGA
GCSWXZXMJAWP3MV4N6JBLGKSRXR632A5OWQXXYRWF67ZMDLMU42XJP3O
GAHIR5ERN26ORNDNWUMKNAUDZQRJISSBNU76IIIEM55LIAFUXWS2TVH4
GAXBHL4VZUVEDZLFZNZB27XSA3WKD6Z2RERRK3ZVWC7RX5I42TOF64MN
GBPJ3A3HIH2PEUBHJC55IUSTW734EQVEMJ72A7NXY7MM5ORCWPBEGHHA
GCZ4KXQFSANZK5PPPV2Z37O4NNQCL4XNWGM5TZSZSETSJYVR7QDVFDQU
GCIELRZ5HNIPNYHB3ZEFIGDO4WYB5KE2GXEE7DT6YUVEIAPDK6R2PXZN
GBZJJ2KYXRS4XSIF4DIVZLFHACZQH4PSO43LJWEDPOF7IMPH6PWCD6KL
GBPW7IJL5KRDOM5RGMKVVPO6Q6DLBAZIBXV3AB5OIXKZ5MUQC4GIRWRQ
GCGTMT2X6NUV6ABEOAOSDI2YQ7FXQOQYKYA7KVZQ5ID67GQU3C6AIUGU
GBTYCT2VVWURNU23ZSR3IPSXU6BRWT3ELIOQJAJOKGIHCLLE6YDX4A7E

u
list of vertices

ttt
decode table

---------------------------------------------------------

Off we go !
Type1
=
payment


linux> KAG_outputfile=KAG_outputfile-2023-07-06-T17\:05\:56-UTC 

./KAG-sum-all-flows-INBOUND-OUTBOUND-then-COMPLETE-DIGRAPH-on-select-vertices-4RecordType0.sh $KAG_extract u ttt > $KAG_outputfile



Extract the data of interest:
For the first 2 sections, data is in 2 consecutve rows/ records/ lines
Section 3, the data is over 3 lines



cat $KAG_outputfile | sed '1,6d' | sed -n "1,/OUTBOUND/p" | sed '$d' | awk 'NR%2 {printf("%s ", $0); next} {print $0}' 

#
# Section 1 of the output file is INBOUND
#
linux> cat $KAG_outputfile | sed '1,6d' | sed -n "1,/OUTBOUND/p" | sed '$d' | awk 'NR%2 {printf("%s ", $0); next} {print $0}' 
KAG_MinterUser_01 81000     
KAG_MinterUser_02 0         
KAG_MinterUser_03 0         
KAG_MinterUser_04 13200     
KAG_MinterUser_05 0         
KAG_MinterUser_06 0         
KAG_MinterUser_07 1612      
KAG_MinterUser_08 0         
KAG_MinterUser_09 0         
KAG_MinterUser_10 2400      
KAG_EmissionAccount 8669772   
KAG_HotWalletAccount 434828    

#
# Section 2 of the output file is OUTBOUND
#
linux> cat $KAG_outputfile | sed '1,6d' | sed -n "/OUTBOUND/,/COMPLETE/p" | sed '1d' | sed '$d' | awk 'NR%2 {printf("%s ", $0); next} {print $0}' 
KAG_MinterUser_01 0         
KAG_MinterUser_02 0         
KAG_MinterUser_03 0         
KAG_MinterUser_04 0         
KAG_MinterUser_05 0         
KAG_MinterUser_06 0         
KAG_MinterUser_07 0         
KAG_MinterUser_08 0         
KAG_MinterUser_09 0         
KAG_MinterUser_10 0         
KAG_EmissionAccount 1239738   
KAG_HotWalletAccount 7955882   

#
# Section 3 of the output file is traffic between 12*12 vertices
# Most of these are ZERO so we blank those out
# 99999 as proxy for EOF
#

linux> cat $KAG_outputfile | sed '1,6d' | sed -n "/COMPLETE/,99999p" | sed '1d' | awk 'NR%3 {printf("%s ", $0); next} {print $0}' | grep -v -w "0"
KAG_EmissionAccount KAG_MinterUser_04 13200     
KAG_EmissionAccount KAG_MinterUser_07 1000      
KAG_EmissionAccount KAG_MinterUser_10 2400      
KAG_HotWalletAccount KAG_MinterUser_07 612       
KAG_HotWalletAccount KAG_EmissionAccount 5207556   

-----------------------------------------------------------------

